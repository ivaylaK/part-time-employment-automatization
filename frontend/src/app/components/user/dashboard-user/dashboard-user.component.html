<div> Welcome to Trenkwalder's platform for part-time employment! </div>

<button class="btn btn-outline-primary position-relative" (click)="openMessages()">
  Messages
  <span *ngIf="messagesCount > 0"
        class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
    {{ messagesCount }}
    <span class="visually-hidden">unread</span>
  </span>
</button>

<div class="toggle">
  <button (click)="showAvailable = false" [disabled]="!showAvailable"> My shifts </button>
  <button (click)="showAvailable = true" [disabled]="showAvailable"> Available shifts </button>
</div>

<ng-container *ngIf="showAvailable; else appliedJobsSection">
  <ng-container *ngIf="availableJobs.length > 0; else noJobs">
    <table>
      <tr *ngFor="let job of availableJobs">
        <td>
          <div class="job-preview">
            <h3>{{ job.title }}</h3>
            <p>{{ job.client }}</p>
            <p>{{ job.city }}</p>
            <p>{{ job.startDate | date }} - {{ job.endDate | date }}</p>
            <button (click)="details(job.id)"> View Details </button>
          </div>
        </td>
      </tr>
    </table>
  </ng-container>
</ng-container>

<ng-template #appliedJobsSection>
  <ng-container *ngIf="appliedJobs.length > 0; else noJobs">
    <table>
      <tr *ngFor="let job of appliedJobs">
        <td>
          <div class="job-preview">
            <h3>{{ job.title }}</h3>
            <p>{{ job.client }}</p>
            <p>{{ job.city }}</p>
            <p>{{ job.startDate | date }} - {{ job.endDate | date }}</p>
            <button (click)="details(job.id)"> View Details </button>
          </div>
        </td>
      </tr>
    </table>
  </ng-container>
</ng-template>

<ng-template #noJobs>
  <p>There are currently no shifts available.</p>
</ng-template>
